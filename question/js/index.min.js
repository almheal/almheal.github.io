const nextButton=document.querySelector(".next"),prevButton=document.querySelector(".prev"),endButton=document.querySelector(".end"),stepper=document.querySelector(".stepper__body"),progressBar=document.querySelector(".progress__bar"),steps=document.querySelectorAll("[data-step]");function clickOnStepper(e){e.target.dataset.next&&nextStep(),e.target.dataset.prev&&prevStep()}function nextStep(){const e=stepper.querySelector("[data-step].active");if(!e.nextElementSibling||!e.nextElementSibling.dataset.step)return;const t=e.nextElementSibling;t.classList.add("active"),prevButton.classList.contains("active")||prevButton.classList.add("active"),e.classList.remove("active"),t.previousElementSibling&&t.nextElementSibling.dataset.step||(endButton.classList.add("active"),nextButton.classList.remove("active")),progress("next")}function prevStep(){const e=stepper.querySelector("[data-step].active"),t=e.previousElementSibling;t&&t.dataset.step?(t.classList.add("active"),e.classList.remove("active"),t.previousElementSibling&&t.previousElementSibling.dataset.step||prevButton.classList.remove("active"),nextButton.classList.contains("active")||(nextButton.classList.add("active"),endButton.classList.remove("active")),progress("prev")):prevButton.classList.remove("active")}function progress(e){const t=steps.length,s=Math.ceil(100/t);if("prev"===e){const e=parseInt(progressBar.style.width)-s;return void(progressBar.style.width=e+"%")}let n,r=0;for(let e=0;e<t&&!steps[e].classList.contains("active");e++)r++;"next"===e&&(n=r*s,progressBar.style.width=n+"%")}stepper.addEventListener("click",clickOnStepper);