class Stepper{constructor({stepsSelector:t,selectorProgress:e,prevButton:s,nextButton:r,numberSelector:i}){this.steps=[...document.querySelectorAll(t)],this.progress=document.querySelector(e),this.prevButton=document.querySelector(s),this.nextButton=document.querySelector(r),this.number=document.querySelector(i),this.lengthSteps=this.steps.length,this.oneNumberStep=parseInt(100/this.steps.length)}searchActiveStep(){const[t]=this.steps.filter(t=>t.classList.contains("active"));return t}addClass(t,e){t.classList.add(e)}prevStep(){const t=this.searchActiveStep();t.classList.remove("active"),this.addClass(t.previousElementSibling,"active"),2===Number(t.dataset.step)&&this.prevButton.classList.remove("active"),this.calculateProgress("prev")}nextStep(){this.prevButton.classList.contains("active")||this.addClass(this.prevButton,"active");const t=this.searchActiveStep();Number(t.dataset.step)!==this.steps.length&&(t.classList.remove("active"),this.addClass(t.nextElementSibling,"active"),this.calculateProgress("next"))}calculateProgress(t){if("prev"===t){const t=parseInt(this.progress.style.width)-this.oneNumberStep;return this.progress.style.width=t+"%",void(this.number.textContent=t+"%")}const e=this.searchActiveStep();let s=0;for(let t=0;t<Number(e.dataset.step);t++)s++;const r=parseInt(s*this.oneNumberStep)+"%";this.number.textContent=r,this.progress.style.width=r}initListeners(){this.prevButton.addEventListener("click",this.prevStep.bind(this)),this.nextButton.addEventListener("click",this.nextStep.bind(this))}init(){this.initListeners(),this.progress.style.width=this.oneNumberStep+"%",this.number.textContent=this.oneNumberStep+"%"}}const stepper=new Stepper({stepsSelector:"[data-step]",selectorProgress:"[data-progress]",prevButton:"[data-prev]",nextButton:"[data-next]",numberSelector:"[data-number]"});stepper.init();